<!DOCTYPE html>
<html>
    <head>
         <!-- Required meta tags -->
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <!-- Bootstrap CSS v5.2.1 -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.1/dist/css/bootstrap.min.css" rel="stylesheet">

  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/semantic-ui/2.5.0/components/dropdown.min.css">
  <script src="https://cdn.jsdelivr.net/npm/lazyload@2.0.0-rc.2/lazyload.js"></script>

  <style>
    @import url(https://db.onlinewebfonts.com/c/91f73e4ff49f2826f489894acdb18c6a?family=Cresci+LP+W01+Regular);

    @font-face {
      font-family: 'Candara Regular';
      src: url('fonts/candara_regular.ttf') format('truetype');
    }
    .body {
      /* font-family: "Candara Regular", monospace;*/
    }
    .navbar-brand img {
      max-width: 80px;
      padding-right: 20px;
    }
    .navbar-brand {
      font-size: 26px;
    }
    .paymentMethod img {
      max-width: 50px;
    }
    
    .regnum-font-2 {
      font-family: "Cresci LP W01 Regular";
      font-weight: 600;
    }

    .display-logo-mobile {
      display: none;
    }

    .display-link-mobile {
      display: none;
    }

    .display-logo {
      padding-left: 0%;
    }

    .success {
      background-color: #04AA6D;
    }

    /* Gray */
    .casino-link-button {
      box-shadow: 0px 0px 0px 0px #3dc21b;
      background-color: #5CBF2A;
      border-radius: 30px;
      display: inline-block;
      cursor: pointer;
      color: #ffffff;
      font-size: 20px;
      font-weight: bold;
      padding: 12px 25px !important;
      text-decoration: none !important;
    }

    .casino-link-button:hover {
      background-color: #5cbf2a !important;
    }

    .casino-link-button:active {
      position: relative;
      top: 1px;
    }

    .display-extended-wrapper {
      width: 100%;
      margin: auto;
      display: grid;
      grid-template-rows: repeat(2, 1fr);
      grid-template-columns: repeat(2, 1fr);
      gap: 8px;
      text-align: top;
    }

    .display-extended-box {
      border: 2px solid;
      border-color: #BD504E;
      padding: 20px;
    }

    .display-extended-head {
      font-weight: bold;
      font-size: 26px;
    }
    .display-wrapper2-mobile {
        display: none;
      }
    @media only screen and (max-device-width: 600px) {
      .display-head-row {
        grid-template-columns: repeat(2, 2fr);
        width: 80%;
        padding-left: 0px;
        padding-right: 0px;
      }

      .display-logo-mobile {
        display: grid;
      }

      .display-logo {
        display: none;
      }

      .display-link-mobile {
        display: none;
      }

      .display-link {
        display: none
      }

      .display-wrapper {
        width: 100%;
        margin: auto;
        display: grid;
        grid-template-columns: 3fr;
        gap: 8px;
        padding-top: 10px;
        padding-bottom: 10px;
      }

      .display-wrapper2-mobile {
        width: 90%;
        margin: auto;
        display: grid;
        grid-template-columns: repeat(2, 1fr);
        gap: 8px;
        padding-top: 10px;
        padding-bottom: 10px;
      }

      .foo-table img {
        width: 220px;
        padding-top: 5px;
      }
      .show-more-button {
        display: none!important;
      }
      .display-link {display: none;}
    }
    .bg-yasarred {
      background-color: #BD504E!important;
    }

    .bc-yasarred {
      border-color: #BD504E!important;
    }

    .bg-yasarpink {
      background-color: #B151BD!important;
    }
    
  </style>
  </head>
  <body>
    <nav class="navbar navbar-expand-lg navbar-dark bg-yasarred p-3">
      <a class="navbar-brand" href="#">
        <!-- img src="img/logo-egon-animated.gif" alt="Logo" -->
        <h2>YasarBonus</h2>
      </a>
      <button class="navbar-toggler d-none" type="button" data-toggle="collapse" data-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
      </button>
      <div class="collapse navbar-collapse" id="navbarNav">
        <ul class="navbar-nav ml-auto d-none">
          <li class="nav-item">
            <a class="nav-link" href="#">Home</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="#">About</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="#">Contact</a>
          </li>
        </ul>
      </div>
    </nav>
    <div class="container">
      <div class="row">
        <div class="col-12">
          <div class="row">
          <div class="col-4 p-3">
            <div>
              <img style="max-width:180px" src="img/logo-egon-animated.gif">
            </div>
          </div>
          <div class="col-8 p-5">
            <div>
              <h1>YasarBonus.com</h1>
              <h2>Online Casino Bonus Comparison</h2>
            </div>
        </div>
      </div>
      </div>
    </div>
    </div>
    <div class="container p-3 border border-5 bc-yasarred rounded-3">
      <div class="row align-items-start">
        <div class="col-12 col-xl-2">
          <div class="row">
          <div class="col-6 col-sm-6 col-md-3 col-lg-4 col-xl-12">
            <div class="form-group">
                  <label for="filterText">Name</label>
                  <input type="text" id="filterText" class="form-control">
                </div>
              </div>
              <div class="col-6 col-sm-6 col-md-3 col-lg-4 col-xl-12">
                <div class="form-group">
                  <label for="filterCategory">Category</label>
                  <select id="filterCategory" class="form-control">
                      <option value="">All</option>
                      <option value="non-sticky">Non-Sticky</option>
                      <option value="sticky">Sticky</option>
                      <option value="wagerfree">Wagerfree</option>
                  </select>
                </div>
              </div>
              <div class="col-6 col-sm-6 col-md-3 col-lg-4 col-xl-12">
                <div class="form-group">
                  <label>Payment Methods</label>
                  <select multiple="" name="skills" class="ui fluid normal dropdown" style="height:100px">
                  <option value="">All</option>
                  </select>
                </div>
              </div>
              <div class="col-6 col-sm-6 col-md-3 col-lg-4 col-xl-12">
                <div class="form-group">
                  <label>Features</label>
                  <div class="form-check">
                      <input type="checkbox" id="filterBonushunt" class="form-check-input">
                      <label for="filterBonushunt" class="form-check-label">Bonushunt allowed</label>
                  </div>
                  <div class="form-check">
                      <input type="checkbox" id="filterVpn" class="form-check-input">
                      <label for="filterVpn" class="form-check-label">VPN allowed</label>
                  </div>
                  <div class="form-check">
                      <input type="checkbox" id="filterSportbets" class="form-check-input">
                      <label for="filterSportbets" class="form-check-label">Sportbets</label>
                  </div>
                  <div class="form-check">
                    <input type="checkbox" id="filterNoDeposit" class="form-check-input">
                    <label for="filterNoDeposit" class="form-check-label">No Deposit Bonus</label>
                </div>
                <div class="form-check">
                    <input type="checkbox" id="filterProhibitedGamesProtection" class="form-check-input">
                    <label for="filterProhibitedGamesProtection" class="form-check-label">Prohibited Games Protection</label>
                </div>
                </div>
              </div>
              <div class="col-6 col-sm-6 col-md-3 col-lg-4 col-xl-12">
                <div class="form-group">
                  <label>Specials</label>
                  <div class="form-check">
                      <input type="checkbox" id="filterGamomat" class="form-check-input">
                      <label for="filterGamomat" class="form-check-label">Gamomat</label>
                  </div>
                  <div class="form-check">
                    <input type="checkbox" id="filterPlayngo" class="form-check-input">
                    <label for="filterPlayngo" class="form-check-label">Play n Go</label>
                  </div>
                  <div class="form-check">
                    <input type="checkbox" id="filterYasarsBest" class="form-check-input">
                    <label for="filterYasarsBest" class="form-check-label">Yasar's Best</label>
                  </div>
                  <div class="form-check">
                    <input type="checkbox" id="filter150andmore" class="form-check-input">
                    <label for="filter150andmore" class="form-check-label">150% & more</label>
                  </div>
                </div>
              </div>
              <div class="col-6 col-sm-6 col-md-3 col-lg-4 col-xl-12">
                <div class="form-group">
                    <label>Companies</label>
                    <div class="form-check">
                        <input type="checkbox" id="filterN1" class="form-check-input">
                        <label for="filterN1" class="form-check-label">N1 Interactive Ltd.</label>
                    </div>
                    <div class="form-check">
                        <input type="checkbox" id="filterHollycorn" class="form-check-input">
                        <label for="filterHollycorn" class="form-check-label">Hollycorn NV</label>
                    </div>
                    <div class="form-check">
                        <input type="checkbox" id="filterDama" class="form-check-input">
                        <label for="filterDama" class="form-check-label">Dama NV</label>
                    </div>
                    <div class="form-check">
                      <input type="checkbox" id="filterRabidi" class="form-check-input">
                      <label for="filterRabidi" class="form-check-label">Rabidi NV</label>
                    </div>
                  </div>
                </div>
              </div>
            </div>

      <div class="col-12 col-xl-10">
        <div class="container">
          <div id="casinosCount"></div>
        </div>
        <div id="casino"></div>
      </div>
    </div>
    </div>




    <script>

      // Load JSON data
      fetch('data.json')
          .then(response => response.json())
          .then(data => {

           

              // Get the filter elements
              const filterText = document.getElementById('filterText');

              // category
              const filterCategory = document.getElementById('filterCategory');

              // features
              const filterBonushunt = document.getElementById('filterBonushunt');
              const filterVpn = document.getElementById('filterVpn');
              const filterSportbets = document.getElementById('filterSportbets');
              const filterNoDeposit = document.getElementById('filterNoDeposit');
              const filterProhibitedGamesProtection = document.getElementById('filterProhibitedGamesProtection');

              // companies
              const filterN1 = document.getElementById('filterN1');
              const filterHollycorn = document.getElementById('filterHollycorn');
              const filterDama = document.getElementById('filterDama');
              const filterRabidi = document.getElementById('filterRabidi');

              // specials
              const filterGamomat = document.getElementById('filterGamomat');
              const filterPlayngo = document.getElementById('filterPlayngo');
              const filterYasarsBest = document.getElementById('filterYasarsBest');
              const filter150andmore = document.getElementById('filter150andmore');


              const dataDiv = document.getElementById('casino');
              const casinosCountDiv = document.getElementById('casinosCount');

              

              // Function to filter the data based on selected filters
              
              const filterData = () => {
                
                console.log(new Date().toString());
                console.log("Casinos in Database:", (data).length);

                  var searchText = filterText.value.toLowerCase();
                  var selectedCategory = filterCategory.value;
                  var isBonushunt = filterBonushunt.checked;
                  var isVpn = filterVpn.checked;
                  var isSportbets = filterSportbets.checked;
                  var isNoDeposit = filterNoDeposit.checked;
                  var isProhibitedGamesProtection = filterProhibitedGamesProtection.checked;
                  var isGamomat = filterGamomat.checked;
                  var isPlayngo = filterPlayngo.checked;
                  var isYasarsBest = filterYasarsBest.checked;
                  var is150andmore = filter150andmore.checked;
                  var isN1 = filterN1.checked;
                  var isHollycorn = filterHollycorn.checked;
                  var isDama = filterDama.checked;
                  var isRabidi = filterRabidi.checked;

 // Parse URL parameters
 var urlParams = new URLSearchParams(window.location.search);

 if (urlParams.has('search')) {
   searchText = urlParams.get('search');
   filterText.value = searchText;
 }


                  // Log the selected filters

                  if (selectedCategory) {
                    console.log("Category Filter:", selectedCategory)
                  } 
                  if (isBonushunt) {
                    console.log("Filter: Bonushunt")
                  }
                  if (isVpn) {
                    console.log("Filter: VPN")
                  }
                  if (isSportbets) {
                    console.log("Filter: Sportbets")
                  }
                  if (isNoDeposit) {
                    console.log("Filter: No Deposit")
                  }
                  if (isProhibitedGamesProtection) {
                    console.log("Filter: Prohibited Games Protection")
                  }                  

                  // build array of special filters

                  var specialFilters = []; 

                  if (isGamomat) {
                      specialFilters.push('gamomat');
                  }

                  if (isPlayngo) {
                      specialFilters.push('playngo');
                  }

                  if (isYasarsBest) {
                      specialFilters.push('yasarsbest');
                  }

                  if (is150andmore) {
                      specialFilters.push('150andmore');
                  }

                  console.log("Special Filters:", specialFilters);


                  // build array of company filters

                  var companyFilters = []; 

                  if (isRabidi) {
                    companyFilters.push('rabidi');
                  }

                  if (isN1) {
                    companyFilters.push('n1');
                  }

                  if (isHollycorn) {
                    companyFilters.push('hollycorn');
                  }

                  if (isDama) {
                    companyFilters.push('dama');
                  }

                  console.log("Company Filters:", companyFilters);

                  const filteredData = data.filter(casino => {



                      // Filter by text
                      if (searchText && !casino.name.toLowerCase().includes(searchText)) {
                        return false;
                      }

                      // Filter by category
                      if (selectedCategory == 'wagerfree' && casino.wager !== '0x') {
                        return false;
                      } 
                      if (selectedCategory == 'sticky' && casino.bonus_display_sticky !== 'true') {
                        return false;
                      }
                      if (selectedCategory == 'non-sticky' && casino.bonus_display_sticky !== 'false') {
                        return false;
                      }

                    
                      // Filter by text
                      if (searchText && !casino.name.toLowerCase().includes(searchText)) {
                          return false;
                      }
                      // Filter by category
                      if (selectedCategory == 'wagerfree' && casino.wager !== '0x') {
                          return false;
                      } 
                      if (selectedCategory == 'sticky' && casino.bonus_display_sticky !== 'true') {
                          return false;
                      }
                      if (selectedCategory == 'non-sticky' && casino.bonus_display_sticky !== 'false') {
                          return false;
                      }
                      //if (selectedCategory && casino.category !== selectedCategory) {
                      //    return false;
                      //}
                      // Filter by additional filters

                      const bonushunt = casino.tags.includes('Bonushunt allowed') ? 'true' : 'false';
                      if (isBonushunt && bonushunt !== 'true') {
                          return false;
                      }
                      const vpn = casino.tags.includes('VPN allowed') ? 'true' : 'false';
                      if (isVpn && vpn !== 'true') {
                          return false;
                      }
                      const sportbets = casino.tags.includes('Sportbets') ? 'true' : 'false';
                      if (isSportbets && sportbets !== 'true') {
                          return false;
                      }
                      const noDeposit = casino.tags.includes('No Deposit') ? 'true' : 'false';
                      if (isNoDeposit && noDeposit !== 'true') {
                          return false;
                      }
                      const prohibitedGamesProtection = casino.tags.includes('Prohibited Games Protection') ? 'true' : 'false';
                      if (isProhibitedGamesProtection && prohibitedGamesProtection !== 'true') {
                          return false;
                      }

                      const yasarsBest = casino.tags.includes('Yasars Best') ? 'true' : 'false';
                      if (isYasarsBest && yasarsBest !== 'true') {
                          return false;
                      }
                      
                      var providersLowercase = casino.providers.map(function(x){ return x.toLowerCase() });
                      casino.providers = providersLowercase;
                      if (specialFilters.length > 0 && specialFilters.includes ("gamomat" || "playngo") && !specialFilters.every(v => providersLowercase.includes(v))) {
                          return false;
                      }
                      if (companyFilters.length > 0 && !companyFilters.some(v => casino.company == v)) {
                          return false;
                      }

                      var paymentMethodsLowercase = casino.paymentMethods.map(function(x){ return x.toLowerCase() });
                      casino.paymentMethods = paymentMethodsLowercase;
                      

                      return true;

                  });

                  console.log("Casinos filtered:", (filteredData).length);
                  
                  var casinosCount = (filteredData).length;
                  casinosCountDiv.innerHTML = "Showing " + casinosCount + " Casinos";

                  // Clear existing HTML elements
                  dataDiv.innerHTML = '';

                  // Create HTML elements for each filtered item
                  
                  const sortedCasinos = filteredData.sort((a, b) => {
                    if (!a.sorting && !b.sorting) {
                      return 0;
                    } else if (!a.sorting) {
                      return 1;
                    } else if (!b.sorting) {
                      return -1;
                    } else {
                      return a.sorting - b.sorting;
                    }
                  });
                  const casinos = sortedCasinos.map(casino => {
                  var lowercaseName = casino.name.toLowerCase();

                  const lowercasePaymentMethods = casino.paymentMethods.map(method => method.toLowerCase());
                  casino.paymentMethods = lowercasePaymentMethods;
                  console.log("Payment Methods:", casino.paymentMethods);
 
                                 
                  const div = document.createElement('div');
                  div.id = casino.name;
                  div.classList.add('container');
                  div.style.paddingTop = '15px';
                  div.innerHTML = `
                  <div class="row g-0 p-3 border border-2 b-2 rounded-3 bc-yasarred bg-light align-items-center" align="center">
                    <div class="col-sm-12 col-md-8 col-lg-3 col-xl-3 order-1 order-lg-1 order-md-1">
      
                      <div class="">
                      ${casino.logo_text ? `<div class="pb-3"><span class="p-1 badge bg-info bg-large">${casino.logo_text}</span></div>` : ''}
                        <div>
                          <img class="lazyload" src="img/casinos/${lowercaseName}.png" data-src="img/casinos/${lowercaseName}.png" alt="foo" style="max-width:200px" height="auto" lazyload="on" />
                        </div>
                      </div>
                    </div>
                    <div class="col-sm-12 col-md-12 col-lg-7 col-xl-6 order-2 order-lg-2 order-xl-2 order-md-3 " >
                      <div class="row col-sm g-0 align-self-stretch">
                      <div class="col-3">
                        <div>
                          <h2>${casino.bonus_display} %</h2>
                          <h6>up to ${casino.bonus_display_max} €</h6>
                          <h5>${casino.bonus_display_sticky == "true" ? `Sticky` : casino.bonus_display_sticky == "false" ? `Non-Sticky` : casino.bonus_display_sticky == "wagerfree" ? `Wagerfree` : ``}</h5>  
                        </div>
                      </div>
                      <div class="col-2">
                        <div>
                          <h2>${casino.max_bet} €</h2>
                          <h6>Max Bet</h6>  
                        </div>
                      </div>
                      <div class="col-3">
                        <div>
                          <h2>${casino.max_cashout}</h2>
                          <h6>Max Cashout</h6>
                        </div>
                      </div>
                      <div class="col-4">
                        <div>
                          <h2>${casino.wager} (${casino.wager_type})</h2>
                          <h6>Wager</h6>
                        </div>
                      </div>
                      </div>
                  </div>
                  <div class="col-sm-8 col-md-3 col-lg-2 col-xl-3 col-xxl-3 p-1 order-3 order-lg-3 order-md-2">
                      <a class="btn btn-lg btn-success" href="/${casino.aff_url}" target="_blank">PLAY NOW</a>
                      <br>
                      <span style="font-size:12px">T&amp;C apply</span>
                  </div>
                  <div class="col-sm-4 col-md-12 col-lg-12 col-xl-12 order-4 order-md-4 p-1" align="center">
                    <button class="btn btn-sm btn-secondary" type="button" data-bs-toggle="collapse" data-bs-target="#collapse${casino.name}" aria-expanded="false" aria-controls="collapse${casino.name}">
                      Show Details
                      </button>
                  </div>
                  <div class="collapse p-3 order-5" id="collapse${casino.name}">
                    <div class="row col-md-12" align="left">
                    <div class="col-6">
                      <h3>Casino Bonus</h3>
                      <ul class="list-group-flush">
                      ${casino.boni ? casino.boni.map(bonus => `<li class="list-group-item">${bonus}</li>`).join('') : ''}
                      </ul>
                      <h5>Tags</h5>
                      <p>${casino.tags ? casino.tags.map(tag => `${tag}`).join(', ') : ''}</p>
                    </div>
                    <div class="col-6">
                      <h3>Casino Features</h3>
                      <ul class="list-group-flush">
                      ${casino.features ? casino.features.map(feature => `<li class="list-group-item">${feature}</li>`).join('') : ''}
                      </ul>
                    </div> 
                    <div class="col-6">
                      <h3>Provider</h3>
                      <div class="row">
                      ${casino.providers ? casino.providers.map(provider => `<div class="col-4 col-md-3 col-lg-2"><img style="max-width:60px;" src="img/images/${provider}.png" /></div>`).join('') : ''}
                      </div>                    
                    </div> 
                    <div class="col-6">
                      <h3>Payment Methods</h3>
                      <div class="row">
                      ${casino.paymentMethods ? casino.paymentMethods.map(paymentMethod => `<div class="col-4 col-md-3 col-lg-2 paymentMethod"><img style="max-width:60px;" src="img/images/${paymentMethod}.png" /></div>`).join('') : ''}
                      </div>
                    </div> 
                    </div>
                    <br>
                  </div>
                  </div>
                  
                  `;
                  console.log("Loaded Casino:", casino.paymentMethods);

                      return div;
                  });


                  // Add the HTML elements to the page
                  casinos.forEach(casino => dataDiv.appendChild(casino));
                  console.log("Casinos Loaded:", (casinos).length);
                  casinosCountDiv.appendChild(casinosCount);



                



              };

              // Add event listeners to the filter elements
              filterText.addEventListener('input', filterData);
              filterCategory.addEventListener('change', filterData);
              filterBonushunt.addEventListener('change', filterData);
              filterVpn.addEventListener('change', filterData);
              filterSportbets.addEventListener('change', filterData);
              filterNoDeposit.addEventListener('change', filterData);
              filterProhibitedGamesProtection.addEventListener('change', filterData);
              filterGamomat.addEventListener('change', filterData);
              filterPlayngo.addEventListener('change', filterData);
              filterYasarsBest.addEventListener('change', filterData);
              filter150andmore.addEventListener('change', filterData);
              filterN1.addEventListener('change', filterData);
              filterHollycorn.addEventListener('change', filterData);
              filterDama.addEventListener('change', filterData);
              filterRabidi.addEventListener('change', filterData);
              
              

              // Initial data load

              
              filterData();

              
              
          });
          
  </script>

<!-- Add Bootstrap JS -->
<script src="https://code.jquery.com/jquery-3.5.1.slim.min.js" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.9.3/dist/umd/popper.min.js" crossorigin="anonymous"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.6/dist/umd/popper.min.js" crossorigin="anonymous">
</script>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.1/dist/js/bootstrap.min.js" crossorigin="anonymous">
</script>

<script src="https://cdnjs.cloudflare.com/ajax/libs/semantic-ui/2.5.0/components/dropdown.min.js" integrity="sha512-PD2QRjH0s7TFz8Oicpi4UFJBdKP0vFeYpmNPsEoNDHfG3QcGLTs8XUrkXWEQXX2Q0g+1oEwvow27TM2VfPdTxw==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>

</body>
</html>